env:
  global:
  - FLASK_APP=todo_app/app
  - FLASK_ENV=development
  - secure: "XJL9tfkRUuMnd5U2AbW3PFosO/RxYzOp9f+vDoJreTiOSWb6O4AxRU8gDDsbztwjid2g+R30UM7oZMJ/6YxwYR9bDpXjXbvAamlZzHAwQCvhbeR9ROGiyGSfFirur1o1vqTuxBZYxselHY0k9dNE9kfyAt8nyy1kFcU+7i1f3ONC1BbvCUKMy1RE0bkHY1KHP0/iCVcewWUCWGC4/mtNP4bmaX23l1bV/VahsOhCuVJ8bUuu1tW/ndm6DxDOvBHf5ny5rY3Qp+ClFEB59Bdgki6QadsQAYwyHv+7rh8lpGZ3eZ17VpPWMmDdA3WuDXxkHegQ5J4eX5XKYdDn3aXqxwJDJBABSpw3kgNjFvcAbsplzHS1eBa8f1LhidmVlblDiLFZeESz25Q1/N4hZ4IltW+YLcQOuyjCfI7Cb8+C0148tGQncM8e7UWPZ6PLsNXWkCePSmyA/yfza5AjZZsM7ebJJU9DAwPCVzRfJP3kW3+zIyCjEWJDrZDAe2kc8dy4EQMS5pB252EbS/DLL6VDJZ8iVRIZkiyTuiumyBQHXzB+dIBWvwFrKX62d14ROJq1iaSff+sc1Du3Vk8t2XbSpprdiD9Sj5U/Ut2jFD1F/g2IllKBZpdzAkUEOOCUPRVgKK2QNtwuvrAUAcnU6hokgyChDCv1lkdplKe4LVRcJJ4="
  - secure: "off3vGvFxgajHVk3XYEuGlym5AN/bebl88lA49I3n8Z8IL5VxOtB4wxRmfx0JH5QVZopm4wzTR1JN86SjWBuCWnMNhK03TME09rvnWM6C29LKVijTU6GC0L+/gtPHtujt+Mcs+VHsBEJacHvVJVkAHHz+F8vUCqZmf23p/GG5wWAdSI/jS09zbEOS9KLz5rmtDt2UOuhMxfzvvw8Kqbo7WwoGXcuwqjSiZPa5Esuf2dYkPyrrPLUgaK/8byL2CDvUTA5NIcySNLkLhJ/ccc3zskbEj8DF95Zu/3MVhJmgUEn6U93V62pK+aFpNWYpVeHdi22yTDIr/mXuC7afXdJJWSAiZhTAK9dS6BvrAHzEoaiOfNBvFxBpZZI+04tjoLzWQqUNtUpcGTeTj6svdaQyT9eIUA5+ZCHJqujgFxYj7MVoNjzz4ehtSF/vndfpHV+Y8z9CcASr4J10BjJNHRvrrFV+v2JJEDpSlPA0F0cSWzfLdy4Scu2TuPYu2pqyluTFmQ3hclYfd8D7wRLJ+nedb0lo2xybxCubKfleAGAw7zALbf/rwQf9BzF7xqkm541NsFAYr8mPTXPnjfBvsPGEXigahB3xzLQjLpoLYEdCx78OxqkmuilvDhFsCYJC+G42Hc6vb16YT89Z0GjVlwCNF7yjS2dBlHFSCh6SovCSzA="
  - secure: "jp9Q3Jrc/J4S92GxXR0PYej0w3dqH7yTKTED5Un6KWGq4JRzPN4snhO0ynYjRKeR3hzeQ8zK+kJUFnFBedqYXgYNWhZ2oEGX3j6OQyC9KAwH2Pjagjp5WHjJhsRkCZwxwRpwjZ02mnHrbKsl78+41Gc28/BjkyhZxaYwYiiuE5bYLzxGtcar8Cnuu2l4Ls4DunrDvQ2rS9Ajfkn6wUm7LP4n6hilLOGzVXk78nol6DmpudQCmuNVJ1tgKkC7WoQ1InMLwd3BKiybR1vtMbpv4W02GS7AiGn/62j7NesrX7T/5khDW1JlcB83+cAWvzKpXoAi+0Ufk1nnFooqa4bfWGRo7iheIb7Igy7Z0cI+M0Fds2Th1yiUYDTJbqvcCSfn52+KKYbgRFa1P5HqdNkgKpsKoeW7T4vfv9T6OLfL5Ezswvzs5X1l5LG/ee4hDo23pSFuWf/oDlQd6AWYXs/h+WZF43PlL3q1wp4uyKUjwVD3XyPI6D9XF6cmFNYQSHymYZsiCX+Uko11K1oI2PmcisWP0Ep0Mt1MyPGPYy8kdK3msCCGwPune5GRLucp2ILiAv5mv2sK4gd4OqSYgIyT2uu8+7fIx7tg3g4fTv6AOD4M40ZAGQhRYwvD+IAfEHlXk4sw2vszJpcBXFcLciw13XC2Jkp4ApF68EXwL4IZpwo="
  - secure: "B0WQnN6dImOotOTMBg3dGxCsjAo8EA+14KOBkk3tTU9PM1+mCiyP4BCf7OYAVh/0wKDTkPOT4+lOGinoy7kScPwogt2hAZqE3HpvLZfJK+oNZK3laB3m0lAe4ZokVpt78xdppL6T3WPcgC5w0yUN7sgSHe/7w6rDUJOR23/TMNWDppYlVSjb+EBZiHluQbWfXIY6DR2MYGAsVeWceW9VCOEkS45T8IqTPKe2GDdZQ5DpekPwgvH999VioY8kCE+TjOilHBV8jnKjqsIbx/vUy6CuMhRrsm7ss7KmxtynZbFef+K6royzQLATSkjT5SengPLgtAcz343JX4U2qhxT2dDbkpX9Bz8lqk+UkEeEVqbzTM0Q+bBMbvwsUggCWiZcX/zh/PEE9GtOWjPLfeaTHi6sG22TrML6X+8wRO5OaMgjFnOlH7uj3gKIuxdRkNbgQZ7poP4/sLqO12d0KMbKDavLuR7hOs8xSydKVroK82ig7dx6iUSIw18h4XkQNSZ80X91Myi2SMeWjZ/SfpHuE8+wrBMB+CaXB0p1RxeTEcr/7mQ9G6U30eMkKJAlnl7lpb1smI8ByUCtZu1q23tuKjKkVN4wHSNERVXXTzyXoku2cq14p79+xOF+T1Ogb9YdAQtGLrXnOPwMHlhI2xWZMrTFgogk79Y0Y2qR2aun/z0="
script:
- docker build --target test --tag my-test-image .
- docker run my-test-image todo_app/test_app.py
- docker run my-test-image todo_app/test_ViewModel.py
- docker run -e FLASK_APP -e FLASK_ENV -e SECRET_KEY -e TRELLO_KEY -e TRELLO_TOKEN
  -e TRELLO_BOARD_ID my-test-image todo_app/e2etests